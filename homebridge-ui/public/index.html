<style>
  .hbhh-blockquote {
    background-color: rgb(201, 218, 224);
    border-left: 5px solid rgb(10, 110, 147);
    font-size: 0.9rem;
    font-weight: 550;
  }
</style>
<p class="text-center">
  <img src="https://raw.githubusercontent.com/hjdhjd/homebridge-comed-hourlypricing/main/images/homebridge-comed-hourlypricing.svg" alt="homebridge-comed-hourlypricing logo" class="w-50" />
</p>
<div id="pageFirstRun" style="display: none;">
  <div class="text-center">
    <br>
      <button type="button" class="btn btn-primary" id="firstRun">Configure Plugin &rarr;</button>
    <br>
      To optimize performance and responsiveness, make this plugin a <a target="_blank" href="https://github.com/homebridge/homebridge/wiki/Child-Bridges">child bridge</a> once you've completed configuration.
  </div>
</div>
<div id="menuWrapper" class="btn-group w-100 mb-0" role="group" aria-label="UI Menu" style="display: none;">
  <button type="button" class="btn btn-primary" id="menuSettings">Settings</button>
  <button type="button" class="btn btn-primary" id="menuFeatureOptions">Feature Options</button>
  <button type="button" class="btn btn-primary mr-0" id="menuHome">Support</button>
</div>
<div id="pageFeatureOptions" class="mt-4" style="display: none;">
  <div id="deviceInfo">
    <table class="table table-sm table-borderless">
      <tr class="align-center">
        <td id="headerInfo" colspan="2" class="m-0 p-2 text-center font-weight-bold"></td>
      </tr>
      <tr class="align-top">
        <td rowspan="3" class="w-25">
          <table id="sidebar" class="table table-sm table-bordered m-0 p-0">
            <tr>
              <td>
                <table class="table table-sm table-borderless m-0 p-0" id="controllersTable"></table>
              </td>
            </tr>
            <tr>
              <td>
                <table class="table table-sm table-borderless m-0 p-0" id="devicesTable"></table>
              </td>
            </tr>
          </table>
        </td>
        <td id="deviceStatsTable" class="w-75">
          <table class="table table-sm table-borderless border-bottom m-0 p-0">
            <tr id="deviceStatsHeader">
              <th class="m-0 p-0 w-25"><B>MAC Address</B></th>
              <th class="m-0 p-0 w-25"><B>Zones</B></th>
            </tr>
            <tr>
              <td id="device_serial" class="m-0 p-0"></td>
              <td id="device_zones" class="m-0 p-0"></td>
            </tr>
          </table>
        </td>
      </tr>
      <tr>
        <td id="configTable" class="w-100"></td>
      </tr>
    </table>
  </div>
</div>
<div id="pageSupport" class="mt-4" style="display: none;">
  <h5>Introduction</h5>
    <p class="px-4">I hope you enjoy this plugin as much as I enjoy developing it. All my projects are labors of love. If you'd like to show your appreciation - <a target="_blank" href="https://github.com/hjdhjd/homebridge-comed-hourlypricing">star this project on GitHub</A> and do some good in your community, either financially or with your time: a food bank, an animal shelter (two of my passions), or whatever resonates with you that can give something back to the world around you. If you're looking for a couple of my faves: <a target="_blank" href="https://wck.org/donate">World Central Kitchen</a> and <a target="_blank" href="https://bestfriends.org/donate">Best Friends</a>.</p>

    <div class="px-4">
      Plugins by <a target="_blank" href="https://github.com/hjdhjd">HJD</a>:

      <ul dir="auto">
        <li><a target="_blank" href="https://github.com/hjdhjd/homebridge-comed-hourlypricing">homebridge-comed-hourlypricing: HomeKit integration for ComEd Hourly Pricing customers.</a></li>
        <li><a target="_blank" href="https://github.com/hjdhjd/homebridge-hunter-hydrawise">homebridge-hunter-hydrawise: Hunter Hydrawise integration for HomeKit.</a></li>
        <li><a target="_blank" href="https://github.com/hjdhjd/homebridge-ratgdo">homebridge-ratgdo: Ratgdo (non-myQ Liftmaster and Chamberlain) garage door and gate opener support for HomeKit</a></li>
        <li><a target="_blank" href="https://github.com/hjdhjd/homebridge-unifi-access">homebridge-unifi-access: HomeKit integration for the UniFi Access ecosystem</a></li>
        <li><a target="_blank" href="https://github.com/hjdhjd/homebridge-unifi-protect">homebridge-unifi-protect: Complete HomeKit integration for the entire UniFi Protect ecosystem</a></li>
      </ul>
    </div>

  <h5>Getting Started</h5>
    <ul dir="auto">
      <li>
        <a target="_blank" href="https://github.com/hjdhjd/homebridge-comed-hourlypricing#installation">Installation</a>: installing this plugin, including system requirements.
      </li>
    </ul>

  <h5>Advanced Topics</h5>
    <ul dir="auto">
      <li>
        <a target="_blank" href="https://github.com/hjdhjd/homebridge-comed-hourlypricing/blob/main/docs/FeatureOptions.md">Feature Options</a>: granular options to allow you to show or hide specific irrigation controllers, and more.
      </li>
      <li>
        <a target="_blank" href="https://github.com/hjdhjd/homebridge-comed-hourlypricing/blob/main/docs/MQTT.md">MQTT</a>: how to configure MQTT support.
      </li>
    </ul>

  <h5>Notes</h5>
    Things to keep in mind regarding the ComEd Hourly Pricing API:
    <ul dir="auto">
      <li>Electricity prices can turn negative, meaning the utility is paying you to consume electricity. The ambient light sensor in HomeKit doesn't permit values lower than <code>0.0001</code> and this plugin will reflect zero-or-below prices as <code>0.0001</code>.</li>
      <li>Creating automations in HomeKit using the ambient light sensor cannot be easily done in the Home app (as of iOS 18), but can be easily done using alternative HomeKit management apps like Eve Home, Home+, and Controller for HomeKit.</li>
    </ul>

  <h5>Support</h5>
    <ul>
      <li>
        <a target="_blank" href="https://discord.gg/QXqfHEW">Discord Support Channel</a>
      </li>
      <li>
        <a target="_blank" href="https://github.com/hjdhjd/homebridge-comed-hourlypricing/issues/new/choose">Create a Developer Support Request</a>
      </li>
      <li>
        <a target="_blank" href="https://github.com/hjdhjd/homebridge-comed-hourlypricing/blob/main/docs/Changelog.md">Changelog and Release Notes</a>
      </li>
    </ul>
</div>
<script type="module">

  /* Copyright(C) 2017-2024, HJD (https://github.com/hjdhjd). All rights reserved.
   *
   * Plugin webUI script loader.
   */
  "use strict";

  // Ensure we load the webUI dynamically so it isn't cached on each load.
  const script = document.createElement('script');
  script.src = "./ui.mjs?v=" + Date.now().toString();
  script.type = "module";
  document.body.appendChild(script);
</script>
